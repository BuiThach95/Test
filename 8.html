<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tráº¯c nghiá»‡m tá»•ng há»£p</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      padding: 40px;
    }

    .question-container {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      max-width: 750px;
      margin: auto;
    }

    .question {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 24px;
    }

    .options, .statements {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
    }

    .option-card, .statement-block {
      border: 2px solid #ddd;
      border-radius: 10px;
      padding: 14px 18px;
      transition: 0.3s;
      background: #fafafa;
    }

    .option-card:hover {
      border-color: #3399ff;
      background: #eef7ff;
    }

    .option-card input, .statement-block input {
      margin-right: 10px;
      transform: scale(1.2);
    }

    .statement-text {
      margin-bottom: 8px;
    }

    .submit-btn, .next-btn {
      margin-top: 25px;
      background: #007BFF;
      color: white;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }

    .submit-btn:hover, .next-btn:hover {
      background: #0056b3;
    }

    .result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<div class="question-container">
  <div id="quiz"></div>
</div>

<script>
  const questions = [
  {
    type: "single",
    question: "CÃ¢u 1: Dá»‹ch ná»™i bÃ o lÃ  dá»‹ch trong bÃ o tÆ°Æ¡ng vÃ  cÃ¡c bÃ o quan.",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"]
  },
  {
    type: "single",
    question: "CÃ¢u 2: Dá»‹ch ngoáº¡i bÃ o lÃ  dá»‹ch cÃ³ á»Ÿ bÃªn ngoÃ i táº¿ bÃ o.",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"]
  },
  {
    type: "single",
    question: "CÃ¢u 3: Dá»‹ch ná»™i bÃ o lÃ  dá»‹ch bÃªn trong táº¿ bÃ o.",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"]
  },
  {
    type: "single",
    question: "CÃ¢u 4: Dá»‹ch ngoáº¡i bÃ o lÃ  dá»‹ch cÃ³ trong mÃ¡u, dá»‹ch káº½, dá»‹ch báº¡ch huyáº¿t.",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"]
  },
  {
    type: "single",
    question: "CÃ¢u 5: Dá»‹ch ngoáº¡i bÃ o cÅ©ng Ä‘Æ°á»£c gá»i lÃ  ná»™i mÃ´i",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"]
  },
  {
    type: "single",
    question: "CÃ¢u 6: Huyáº¿t tÆ°Æ¡ng lÃ  huyáº¿t thanh máº¥t Ä‘i cÃ¡c yáº¿u tá»‘ Ä‘Ã´ng mÃ¡u",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["B. Sai"] // Huyáº¿t thanh lÃ  huyáº¿t tÆ°Æ¡ng máº¥t fibrinogen (má»™t yáº¿u tá»‘ Ä‘Ã´ng mÃ¡u). Huyáº¿t tÆ°Æ¡ng lÃ  mÃ¡u toÃ n pháº§n trá»« cÃ¡c táº¿ bÃ o mÃ¡u.
  },
  {
    type: "single",
    question: "CÃ¢u 7: Huyáº¿t tÆ°Æ¡ng cÃ³ chá»©c nÄƒng sau, trá»«:",
    options: ["A. Váº­n chuyá»ƒn cháº¥t dinh dÆ°á»¡ng.", "B. Váº­n chuyá»ƒn khÃ­.", "C. Váº­n chuyá»ƒn khÃ¡ng thá»ƒ.", "D. Váº­n chuyá»ƒn hormon.", "E. Dá»± trá»¯ carbohydrat, lipid, protein."],
    answer: ["E. Dá»± trá»¯ carbohydrat, lipid, protein."]
  },
  {
    type: "single",
    question: "CÃ¢u 8: Albumin cá»§a huyáº¿t tÆ°Æ¡ng cÃ³ vai trÃ² chÃ­nh trong:",
    options: ["A. Táº¡o Ã¡p suáº¥t tháº©m tháº¥u.", "B. Táº¡o Ã¡p suáº¥t thuá»· tÄ©nh.", "C. Táº¡o Ã¡p suáº¥t keo.", "D. Táº¡o khÃ¡ng thá»ƒ."],
    answer: ["C. Táº¡o Ã¡p suáº¥t keo."]
  },
  {
    type: "single",
    question: "CÃ¢u 9: Vai trÃ² cá»§a albumin huyáº¿t tÆ°Æ¡ng:",
    options: ["A. Táº¡o Ã¡p suáº¥t keo cá»§a huyáº¿t tÆ°Æ¡ng.", "B. LÃ  cháº¥t tham gia cáº¥u táº¡o táº¿ bÃ o.", "C. LÃ  cháº¥t cung cáº¥p nÄƒng lÆ°á»£ng cho cÆ¡ thá»ƒ.", "D. LÃ  cháº¥t mang váº­n chuyá»ƒn má»™t sá»‘ cháº¥t khÃ¡c trong huyáº¿t tÆ°Æ¡ng."],
    answer: ["A. Táº¡o Ã¡p suáº¥t keo cá»§a huyáº¿t tÆ°Æ¡ng."]
  },
  {
    type: "single",
    question: "CÃ¢u 10: Dá»‹ch káº½ lÃ  dá»‹ch náº±m ngoÃ i táº¿ bÃ o trong há»‡ thá»‘ng máº¡ch, náº±m trong khoáº£ng káº½ giá»¯a cÃ¡c táº¿ bÃ o",
    options: ["A. ÄÃºng", "B. Sai"],
    answer: ["A. ÄÃºng"] // Äá»‹nh nghÄ©a chÃ­nh xÃ¡c pháº£i lÃ  náº±m ngoÃ i máº¡ch mÃ¡u, trong khoáº£ng káº½. CÃ¢u nÃ y cÃ³ thá»ƒ gÃ¢y hiá»ƒu láº§m vá»›i "trong há»‡ thá»‘ng máº¡ch", nhÆ°ng dá»±a theo Ä‘Ã¡p Ã¡n vÃ  ngá»¯ cáº£nh "dá»‹ch káº½", A lÃ  phÃ¹ há»£p nháº¥t.
  },
  {
    type: "single",
    question: "CÃ¢u 11: ThÃ nh pháº§n dá»‹ch káº½ gá»“m cÃ³ cÃ¡c cháº¥t sau, trá»«",
    options: ["A. Protein dá»‹ch káº½", "B. Vi khuáº©n", "C. Há»“ng cáº§u", "D. Báº¡ch cáº§u", "E. CÃ¡c cháº¥t bÃ©o Ä‘Æ°á»£c háº¥p thu"],
    answer: ["C. Há»“ng cáº§u"] // Há»“ng cáº§u thÆ°á»ng náº±m trong máº¡ch mÃ¡u, khÃ´ng ra dá»‹ch káº½ trá»« khi cÃ³ tá»•n thÆ°Æ¡ng nghiÃªm trá»ng. CÃ¡c yáº¿u tá»‘ khÃ¡c cÃ³ thá»ƒ cÃ³ máº·t á»Ÿ dá»‹ch káº½ trong cÃ¡c Ä‘iá»u kiá»‡n nháº¥t Ä‘á»‹nh (protein rÃ² rá»‰, báº¡ch cáº§u di chuyá»ƒn, vi khuáº©n xÃ¢m nháº­p, cháº¥t bÃ©o váº­n chuyá»ƒn).
  },
  {
    type: "single",
    question: "CÃ¢u 12: Dá»‹ch káº½ khÃ´ng cÃ³ chá»©c nÄƒng",
    options: ["A. Cung cáº¥p oxy cho táº¿ bÃ o", "B. ÄÃ o tháº£i cháº¥t bÃ£ á»Ÿ phá»•i", "C. Cung cáº¥p cháº¥t dinh dÆ°á»¡ng cho táº¿ bÃ o", "D. Mang cÃ¡c sáº£n pháº©m chuyá»ƒn hÃ³a Ä‘áº¿n da"],
    answer: ["B. ÄÃ o tháº£i cháº¥t bÃ£ á»Ÿ phá»•i"] // ÄÃ o tháº£i cháº¥t bÃ£ á»Ÿ phá»•i thuá»™c chá»©c nÄƒng hÃ´ háº¥p, khÃ´ng pháº£i trá»±c tiáº¿p cá»§a dá»‹ch káº½.
  },
  {
    type: "single",
    question: "CÃ¢u 13: Táº¡i Ä‘áº§u mao Ä‘á»™ng máº¡ch, náº¿u Ã¡p suáº¥t thá»§y tÄ©nh mao máº¡ch lÃ  30mmHg, Ã¡p suáº¥t keo cá»§a mÃ¡u lÃ  28 mmHg, Ã¡p suáº¥t Ã¢m cá»§a dá»‹ch káº½ cÃ³ giÃ¡ trá»‹ tuyá»‡t Ä‘á»‘i lÃ  3mmHg, Ã¡p keo cá»§a dá»‹ch káº½ lÃ  8mmHg. Tá»•ng há»£p cÃ¡c Ã¡p suáº¥t sáº½ táº¡o ra:",
    options: ["A. Lá»±c Ä‘áº©y dá»‹ch tá»« mao máº¡ch vÃ o khoáº£ng káº½ lÃ  7 mmHg.", "B. Lá»±c Ä‘áº©y dá»‹ch tá»« mao máº¡ch vÃ o khoáº£ng káº½ lÃ  13mmHg.", "C. Lá»±c kÃ©o dá»‹ch vÃ o lÃ²ng máº¡ch lÃ  7 mmHg.", "D. Lá»±c kÃ©o dá»‹ch vÃ o lÃ²ng máº¡ch lÃ  11 mmHg."],
    answer: ["B. Lá»±c Ä‘áº©y dá»‹ch tá»« mao máº¡ch vÃ o khoáº£ng káº½ lÃ  13mmHg."] // Lá»±c Ä‘áº©y = (Ãp suáº¥t thá»§y tÄ©nh mao máº¡ch + Ãp suáº¥t keo dá»‹ch káº½) - (Ãp suáº¥t keo mÃ¡u + Ãp suáº¥t thá»§y tÄ©nh dá»‹ch káº½). Vá»›i Ã¡p suáº¥t Ã¢m dá»‹ch káº½ (-3mmHg), Ã¡p suáº¥t thá»§y tÄ©nh dá»‹ch káº½ lÃ  -3 mmHg. Lá»±c Ä‘áº©y = (30 + 8) - (28 + (-3)) = 38 - 25 = 13 mmHg.
  },
  {
    type: "single",
    question: "CÃ¢u 14: á» Ä‘áº§u mao máº¡ch tiáº¿p giÃ¡p vá»›i tiá»ƒu tÄ©nh máº¡ch nhá»¯ng Ã¡p suáº¥t sau kÃ©o dá»‹ch trá»Ÿ láº¡i lÃ²ng máº¡ch lÃ :",
    options: ["A. Ãp suáº¥t keo cá»§a mÃ¡u.", "B. Ãp suáº¥t thuá»· tÄ©nh cá»§a mÃ¡u.", "C. Ãp suáº¥t Ã¢m cá»§a dá»‹ch káº½.", "D. Ãp suáº¥t keo cá»§a dá»‹ch káº½."],
    answer: ["A. Ãp suáº¥t keo cá»§a mÃ¡u."] // Ãp suáº¥t keo mÃ¡u lÃ  lá»±c chÃ­nh kÃ©o dá»‹ch vÃ o lÃ²ng máº¡ch. Ãp suáº¥t thá»§y tÄ©nh dá»‹ch káº½ (Ã¢m) cÅ©ng gÃ³p pháº§n kÃ©o vÃ o.
  },
  {
    type: "single",
    question: "CÃ¢u 15: Dá»‹ch báº¡ch huyáº¿t lÆ°u thÃ´ng theo con Ä‘Æ°á»ng",
    options: ["A. Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tim.", "B. Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tim pháº£i.", "C. Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tim trÃ¡i.", "D. Äá»™ng máº¡ch báº¡ch huyáº¿t > Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tÃ¢m nhÄ© pháº£i.", "E. Äá»™ng máº¡ch báº¡ch huyáº¿t > Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tÃ¢m nhÄ© trÃ¡i."],
    answer: ["B. Mao máº¡ch báº¡ch huyáº¿t > tÄ©nh máº¡ch báº¡ch huyáº¿t > á»‘ng ngá»±c vÃ  á»‘ng báº¡ch huyáº¿t pháº£i vá» tim pháº£i."] // Äá»• vá» cÃ¡c tÄ©nh máº¡ch dÆ°á»›i Ä‘Ã²n, gáº§n tim pháº£i.
  },
  {
    type: "single",
    question: "CÃ¢u 16: Dá»‹ch báº¡ch huyáº¿t tá»« kháº¯p nÆ¡i trong cÆ¡ thá»ƒ hÃ²a trá»™n vÃ  cÃ¹ng Ä‘á»• trá»±c tiáº¿p vÃ o:",
    options: ["A. TÄ©nh máº¡ch dÆ°á»›i Ä‘Ã²n pháº£i vÃ  trÃ¡i", "B. TÄ©nh máº¡ch chá»§ trÃªn vÃ  dÆ°á»›i", "C. TÄ©nh máº¡ch", "D. TÃ¢m nhÄ© pháº£i", "E. TÄ©nh máº¡ch phá»•i pháº£i vÃ  trÃ¡i"],
    answer: ["D. TÃ¢m nhÄ© pháº£i"] // Dá»‹ch báº¡ch huyáº¿t Ä‘á»• vá» tÄ©nh máº¡ch dÆ°á»›i Ä‘Ã²n, rá»“i vá» tÄ©nh máº¡ch chá»§ trÃªn, sau Ä‘Ã³ Ä‘á»• vÃ o tÃ¢m nhÄ© pháº£i. ÄÃ¡p Ã¡n D lÃ  Ä‘iá»ƒm Ä‘áº¿n cuá»‘i cÃ¹ng trong cÃ¡c lá»±a chá»n.
  },
  {
    type: "single",
    question: "CÃ¢u 17: CÃ¡c yáº¿u tá»‘ sau Ä‘á»u lÃ m tÄƒng lÆ°u lÆ°á»£ng báº¡ch huyáº¿t, trá»«:",
    options: ["A. TÄƒng Ã¡p suáº¥t thuá»· tÄ©nh mao máº¡ch.", "B. TÄƒng Ã¡p suáº¥t keo cá»§a huyáº¿t tÆ°Æ¡ng.", "C. TÄƒng ná»“ng Ä‘á»™ protein trong dá»‹ch káº½", "D. TÄƒng tÃ­nh tháº¥m cá»§a mao máº¡ch."],
    answer: ["B. TÄƒng Ã¡p suáº¥t keo cá»§a huyáº¿t tÆ°Æ¡ng."] // TÄƒng Ã¡p suáº¥t keo huyáº¿t tÆ°Æ¡ng giá»¯ dá»‹ch trong lÃ²ng máº¡ch, lÃ m giáº£m dá»‹ch thoÃ¡t ra dá»‹ch káº½, do Ä‘Ã³ giáº£m táº¡o báº¡ch huyáº¿t.
  },
  {
    type: "single",
    question: "CÃ¢u 18: CÃ¡c yáº¿u tá»‘ sau Ä‘á»u lÃ m tÄƒng hoáº¡t Ä‘á»™ng cá»§a bÆ¡m báº¡ch huyáº¿t, trá»«:",
    options: ["A. TÄƒng co bÃ³p thÃ nh máº¡ch báº¡ch huyáº¿t.", "B. TÄƒng co cÆ¡ vÃ¢n.", "C. TÄƒng Ã¡p suáº¥t keo huyáº¿t tÆ°Æ¡ng.", "D. Máº¡ch Ä‘áº­p.", "E. TÄƒng váº­n Ä‘á»™ng cá»§a pháº§n cá»§a cÆ¡ thá»ƒ."],
    answer: ["C. TÄƒng Ã¡p suáº¥t keo huyáº¿t tÆ°Æ¡ng."] // Ãp suáº¥t keo huyáº¿t tÆ°Æ¡ng áº£nh hÆ°á»Ÿng viá»‡c táº¡o dá»‹ch káº½/báº¡ch huyáº¿t, khÃ´ng pháº£i hoáº¡t Ä‘á»™ng cá»§a bÆ¡m báº¡ch huyáº¿t.
  },
  {
    type: "single",
    question: "CÃ¢u 19: LÆ°u lÆ°á»£ng dá»‹ch báº¡ch huyáº¿t tÄƒng khi:",
    options: ["A. Giáº£m Ã¡p suáº¥t mao máº¡ch.", "B. TÄƒng Ã¡p suáº¥t keo cá»§a huyáº¿t tÆ°Æ¡ng.", "C. Giáº£m ná»“ng Ä‘á»™ protein trong dá»‹ch káº½.", "D. TÄƒng tÃ­nh tháº¥m cá»§a thÃ nh mao máº¡ch."],
    answer: ["D. TÄƒng tÃ­nh tháº¥m cá»§a thÃ nh mao máº¡ch."] // TÄƒng tÃ­nh tháº¥m lÃ m dá»‹ch thoÃ¡t ra dá»‹ch káº½ nhiá»u hÆ¡n, tÄƒng táº¡o báº¡ch huyáº¿t.
  },
  {
    type: "single",
    question: "CÃ¢u 20: Chá»©c nÄƒng nÃ o dÆ°á»›i Ä‘Ã¢y khÃ´ng pháº£i lÃ  chá»©c nÄƒng cá»§a há»‡ báº¡ch huyáº¿t:",
    options: ["A. Váº­n chuyá»ƒn dá»‹ch káº½ vá» mÃ¡u", "B. Váº­n chuyá»ƒn dá»‹ch báº¡ch huyáº¿t vá» tÄ©nh máº¡ch dÆ°á»›i Ä‘Ã²n pháº£i vÃ  trÃ¡i", "C. Váº­n chuyá»ƒn cháº¥t bÃ©o tá»« há»‡ tiÃªu hÃ³a vá» mÃ¡u", "D. Báº£o vá»‡", "E. A + B + C + D Ä‘á»u Ä‘Ãºng."],
    answer: ["E. A + B + C + D Ä‘á»u Ä‘Ãºng."] // Táº¥t cáº£ cÃ¡c Ä‘Ã¡p Ã¡n A, B, C, D Ä‘á»u lÃ  chá»©c nÄƒng cá»§a há»‡ báº¡ch huyáº¿t. Do Ä‘Ã³ E Ä‘Ãºng.
  },
  {
    type: "single",
    question: "CÃ¢u 21: Cáº¥u trÃºc bÃ i tiáº¿t dá»‹ch nÃ£o tá»§y chá»§ yáº¿u lÃ :",
    options: ["A. ÄÃ¡m rá»‘i máº¡ch máº¡c nÃ£o tháº¥t III", "B. Nhung mao mÃ ng nhá»‡n", "C. ÄÃ¡m rá»‘i máº¡ch máº¡c cá»§a nÃ£o tháº¥t bÃªn", "D. Nhu mÃ´ nÃ£o."],
    answer: ["C. ÄÃ¡m rá»‘i máº¡ch máº¡c cá»§a nÃ£o tháº¥t bÃªn"] // ÄÃ¡m rá»‘i máº¡ch máº¡c (choroid plexus) á»Ÿ cÃ¡c nÃ£o tháº¥t, chá»§ yáº¿u lÃ  nÃ£o tháº¥t bÃªn, sáº£n xuáº¥t dá»‹ch nÃ£o tá»§y.
  },
  {
    type: "single",
    question: "CÃ¢u 22: Ãp suáº¥t cá»§a dá»‹ch nÃ£o tuá»· bÃ¬nh thÆ°á»ng lÃ :",
    options: ["A. 100 - 200 mm H2O.", "B. 300 - 400 mm H2O.", "C. 500 - 600 mm H2O.", "D. 700 - 800 mm H2O."],
    answer: ["A. 100 - 200 mm H2O."]
  },
  {
    type: "single",
    question: "CÃ¢u 23: CÃ¡c cháº¥t sau Ä‘Ã¢y Ä‘á»u dá»… dÃ ng tháº¥m qua hÃ ng rÃ o mÃ¡u - nÃ£o, trá»«:",
    options: ["A. Cháº¥t gÃ¢y mÃª.", "B. Oxy.", "C. Protein .", "D. CO2.", "E. RÆ°á»£u."],
    answer: ["C. Protein ."] // Protein lÃ  phÃ¢n tá»­ lá»›n, khÃ³ qua hÃ ng rÃ o mÃ¡u nÃ£o. CÃ¡c cháº¥t tan trong lipid (gÃ¢y mÃª, rÆ°á»£u) vÃ  khÃ­ (O2, CO2) dá»… qua.
  },
  {
    type: "single",
    question: "CÃ¢u 24: Chá»©c nÄƒng quan trá»ng nháº¥t cá»§a dá»‹ch nÃ£o tuá»· lÃ :",
    options: ["A. LÃ  bÃ¬nh chá»©a cÃ³ kháº£ nÄƒng á»•n Ä‘á»‹nh thá»ƒ tÃ­ch cá»§a há»™p sá».", "B. Äá»‡m cho nÃ£o trong há»™p sá» cá»©ng.", "C. LÃ  nÆ¡i trao Ä‘á»•i cháº¥t dinh dÆ°á»¡ng cá»§a há»‡ tháº§n kinh.", "D. LÃ  tráº¡m trung chuyá»ƒn cá»§a má»™t sá»‘ thuá»‘c tÃ¡c dá»¥ng lÃªn nÃ£o mÃ  khÃ´ng qua Ä‘Æ°á»£c hÃ ng rÃ o mÃ¡u - nÃ£o."],
    answer: ["B. Äá»‡m cho nÃ£o trong há»™p sá» cá»©ng."] // Chá»©c nÄƒng báº£o vá»‡ cÆ¡ há»c lÃ  quan trá»ng nháº¥t.
  }
];

  let currentQuestion = 0;

  function loadQuestion() {
    const q = questions[currentQuestion];
    let html = `<div class="question">${q.question}</div>`;

    if (q.type === "single" || q.type === "multiple") {
      const inputType = q.type === "multiple" ? "checkbox" : "radio";
      html += `<div class="options">` +
        q.options.map(opt => `
          <label class="option-card">
            <input type="${inputType}" name="option" value="${opt}">
            ${opt}
          </label>
        `).join('') +
        `</div>`;
    }

    if (q.type === "truefalse") {
      html += `<div class="statements">` +
        q.statements.map((s, idx) => `
          <div class="statement-block">
            <div class="statement-text">${s.text}</div>
            <label><input type="radio" name="statement${idx}" value="ÄÃºng"> ÄÃºng</label>
            <label><input type="radio" name="statement${idx}" value="Sai"> Sai</label>
          </div>
        `).join('') +
        `</div>`;
    }

    html += `
      <button class="submit-btn" onclick="submitAnswer()">Tráº£ lá»i</button>
      <div class="result" id="result"></div>
      <button class="next-btn hidden" id="nextBtn" onclick="nextQuestion()">CÃ¢u tiáº¿p theo â¡ï¸</button>
    `;

    document.getElementById("quiz").innerHTML = html;
  }

  function arraysEqual(arr1, arr2) {
    if (arr1.length !== arr2.length) return false;
    const a1 = [...arr1].sort();
    const a2 = [...arr2].sort();
    return a1.every((val, i) => val === a2[i]);
  }

  function submitAnswer() {
    const q = questions[currentQuestion];
    const result = document.getElementById("result");
    let isCorrect = false;

    if (q.type === "single" || q.type === "multiple") {
      const selected = Array.from(document.querySelectorAll("input[name='option']:checked"))
        .map(i => i.value);
      if (selected.length === 0) {
        result.innerHTML = "â— Báº¡n chÆ°a chá»n Ä‘Ã¡p Ã¡n.";
        result.style.color = "red";
        return;
      }
      isCorrect = (q.type === "single")
        ? selected[0] === q.answer[0]
        : arraysEqual(selected, q.answer);
    }

    if (q.type === "truefalse") {
      let allCorrect = true;
      for (let i = 0; i < q.statements.length; i++) {
        const chosen = document.querySelector(`input[name='statement${i}']:checked`);
        if (!chosen || chosen.value !== q.statements[i].answer) {
          allCorrect = false;
          break;
        }
      }
      isCorrect = allCorrect;
    }

    if (isCorrect) {
      result.innerHTML = "âœ… ChÃ­nh xÃ¡c!";
      result.style.color = "green";
    } else {
      if (q.type === "truefalse") {
        result.innerHTML = `âŒ Sai. ÄÃ¡p Ã¡n Ä‘Ãºng:<br>` +
          q.statements.map(s => `â€¢ ${s.text} â†’ ${s.answer}`).join("<br>");
      } else {
        result.innerHTML = `âŒ Sai. ÄÃ¡p Ã¡n Ä‘Ãºng lÃ : ${q.answer.join(", ")}`;
      }
      result.style.color = "red";
    }

    document.getElementById("nextBtn").classList.remove("hidden");
  }

  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < questions.length) {
      loadQuestion();
    } else {
      document.getElementById("quiz").innerHTML = "<div class='result'>ğŸ‰ Báº¡n Ä‘Ã£ hoÃ n thÃ nh bÃ i tráº¯c nghiá»‡m!</div>";
    }
  }

  loadQuestion();
</script>

</body>
</html>
