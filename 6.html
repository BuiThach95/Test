<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Tr·∫Øc nghi·ªám t·ªïng h·ª£p</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #f0f4f8;
      padding: 40px;
    }

    .question-container {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      max-width: 750px;
      margin: auto;
    }

    .question {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 24px;
    }

    .options, .statements {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
    }

    .option-card, .statement-block {
      border: 2px solid #ddd;
      border-radius: 10px;
      padding: 14px 18px;
      transition: 0.3s;
      background: #fafafa;
    }

    .option-card:hover {
      border-color: #3399ff;
      background: #eef7ff;
    }

    .option-card input, .statement-block input {
      margin-right: 10px;
      transform: scale(1.2);
    }

    .statement-text {
      margin-bottom: 8px;
    }

    .submit-btn, .next-btn {
      margin-top: 25px;
      background: #007BFF;
      color: white;
      padding: 12px 28px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      cursor: pointer;
      transition: 0.3s;
    }

    .submit-btn:hover, .next-btn:hover {
      background: #0056b3;
    }

    .result {
      margin-top: 20px;
      font-weight: bold;
      font-size: 18px;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>

<div class="question-container">
  <div id="quiz"></div>
</div>

<script>
  const questions = [
  {
    type: "single",
    question: "C√¢u 1: Th√¢n nhi·ªát",
    options: ["A. ·∫¢nh h∆∞·ªüng gi√°n ti·∫øp ƒë·∫øn t·ªëc ƒë·ªô ph·∫£n ·ª©ng ho√° h·ªçc trong c∆° th·ªÉ.", "B. ·∫¢nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn t·ªëc ƒë·ªô ph·∫£n ·ª©ng ho√° h·ªçc trong c∆° th·ªÉ.", "C. Thay ƒë·ªïi theo nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng.", "D. Kh√¥ng thay ƒë·ªïi theo tu·ªïi.", "E. Kh√¥ng thay ƒë·ªïi theo nh·ªãp ng√†y ƒë√™m."],
    answer: ["B. ·∫¢nh h∆∞·ªüng tr·ª±c ti·∫øp ƒë·∫øn t·ªëc ƒë·ªô ph·∫£n ·ª©ng ho√° h·ªçc trong c∆° th·ªÉ."]
  },
  {
    type: "single",
    question: "C√¢u 2: Nhi·ªát ƒë·ªô trung t√¢m c√≥ th·ªÉ ƒëo ·ªü 1 trong 3 v·ªã tr√≠: tr·ª±c tr√†ng, n√°ch v√† ‚Ä¶‚Ä¶.",
    options: ["A. C·ªï", "B. B·∫πn", "C. B·ª•ng", "D. Mi·ªáng"],
    answer: ["D. Mi·ªáng"]
  },
  {
    type: "single",
    question: "C√¢u 3: V√πng th√¢n nhi·ªát tr·ªã s·ªë cao nh·∫•t l√† ·ªü:",
    options: ["A. D·∫° d√†y.", "B. Ru·ªôt.", "C. Gan.", "D. Ph·ªïi.", "E. T·∫•t c·∫£ ƒë·ªÅu sai."],
    answer: ["E. T·∫•t c·∫£ ƒë·ªÅu sai."] // D·ª±a theo key b·∫°n cung c·∫•p ('e')
  },
  {
    type: "single",
    question: "C√¢u 4: V√πng th√¢n nhi·ªát tr·ªã s·ªë cao nh·∫•t l√†:",
    options: ["A. Tr·ª±c tr√†ng.", "B. Gan.", "C. N√°ch.", "D. Mi·ªáng.", "E. Da."],
    answer: ["A. Tr·ª±c tr√†ng."]
  },
  {
    type: "single",
    question: "C√¢u 5: M·ªôt s·ªë b·ªánh ·∫£nh h∆∞·ªüng ƒë·∫øn th√¢n nhi·ªát:",
    options: ["A. B·ªánh nhi·ªÖm khu·∫©n t·∫£ th√¢n nhi·ªát tƒÉng.", "B. C√°c b·ªánh nhi·ªÖm khu·∫©n n√≥i chung th√¢n nhi·ªát tƒÉng.", "C. ∆Øu nƒÉng tuy·∫øn gi√°p th√¢n nhi·ªát gi·∫£m.", "D. Nh∆∞·ª£c nƒÉng tuy·∫øn gi√°p th√¢n nhi·ªát tƒÉng.", "E. Vi√™m ru·ªôt th·ª´a th√¢n nhi·ªát gi·∫£m."],
    answer: ["B. C√°c b·ªánh nhi·ªÖm khu·∫©n n√≥i chung th√¢n nhi·ªát tƒÉng."]
  },
  {
    type: "single",
    question: "C√¢u 6: Trong su·ªët th·ªùi k·ª≥ c√≥ thai th√¢n nhi·ªát‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶",
    options: ["A. Kh√¥ng ƒë·ªïi.", "B. Gi·∫£m.", "C. TƒÉng t·ª´ 3-4%.", "D. TƒÉng t·ª´ 0,5-0,8oC."],
    answer: ["D. TƒÉng t·ª´ 0,5-0,8oC."]
  },
  {
    type: "single",
    question: "C√¢u 7: ƒê·ªông t√°c ch∆∞·ªùm m√°t b·∫±ng khƒÉn ∆∞·ªõt ƒë·∫Øp tr√°n cho m·ªôt ng∆∞·ªùi b·ªã s·ªët l√† v√≠ d·ª• v·ªÅ",
    options: ["A. Truy·ªÅn nhi·ªát tr·ª±c ti·∫øp.", "B. Truy·ªÅn nhi·ªát b·∫±ng h√¨nh th·ª©c ƒë·ªëi l∆∞u.", "C. Truy·ªÅn nhi·ªát b·∫±ng b·ª©c x·∫° nhi·ªát.", "D. C·∫£ A,B,C.", "E. C·∫£ A,B."],
    answer: ["A. Truy·ªÅn nhi·ªát tr·ª±c ti·∫øp."]
  },
  {
    type: "single",
    question: "C√¢u 8: M·ª©c ƒë·ªô truy·ªÅn nhi·ªát t·ª∑ l·ªá v·ªõi cƒÉn b·∫≠c hai c·ªßa t·ªëc ƒë·ªô gi√≥ (v 1/2)",
    options: ["A. ƒê√∫ng", "B. Sai"],
    answer: ["A. ƒê√∫ng"]
  },
  {
    type: "single",
    question: "C√¢u 9: Qu√° tr√¨nh to·∫£ nhi·ªát theo ph∆∞∆°ng th·ª©c truy·ªÅn nhi·ªát ƒë∆∞·ª£c th·ª±c hi·ªán b·∫±ng h√¨nh th·ª©c:",
    options: ["A. Truy·ªÅn nhi·ªát tr·ª±c ti·∫øp.", "B. Truy·ªÅn nhi·ªát b·∫±ng h√¨nh th·ª©c ƒë·ªëi l∆∞u.", "C. Truy·ªÅn nhi·ªát b·∫±ng b·ª©c x·∫° nhi·ªát.", "D. C·∫£ A,B,C.", "E. C·∫£ A,B."],
    answer: ["D. C·∫£ A,B,C."]
  },
  {
    type: "single",
    question: "C√¢u 10: Trong b·ª©c x·∫° nhi·ªát, nhi·ªát ƒë∆∞·ª£c truy·ªÅn t·ª´ v·∫≠t n√†y sang v·∫≠t kia kh√¥ng ph·ª• thu·ªôc:",
    options: ["A. Ch·∫•t d·∫´n nhi·ªát gi·ªØa hai v·∫≠t", "B. Nhi·ªát ƒë·ªô c·ªßa v·∫≠t ph√°t nhi·ªát", "C. Nhi·ªát ƒë·ªô c·ªßa v·∫≠t nh·∫≠n nhi·ªát", "D. Kho·∫£ng c√°ch gi·ªØa hai v·∫≠t", "E. M√†u s·∫Øc v·∫≠t nh·∫≠n nhi·ªát"],
    answer: ["A. Ch·∫•t d·∫´n nhi·ªát gi·ªØa hai v·∫≠t"]
  },
  {
    type: "single",
    question: "C√¢u 11: Trong ph∆∞∆°ng th·ª©c to·∫£ nhi·ªát b·∫±ng bay h∆°i n∆∞·ªõc:",
    options: ["A. M·ªôt l√≠t n∆∞·ªõc chuy·ªÉn t·ª´ th·ªÉ l·ªèng sang th·ªÉ kh√≠ thu c·ªßa c∆° th·ªÉ 680 kcal.", "B. Bay h∆°i n∆∞·ªõc qua ƒë∆∞·ªùng h√¥ h·∫•p ƒë√≥ng vai tr√≤ quan tr·ªçng trong c∆° ch·∫ø ch·ªëng n√≥ng ·ªü ng∆∞·ªùi.", "C. N∆∞·ªõc th·∫•m qua da lu√¥n thay ƒë·ªïi theo nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng.", "D. B√†i ti·∫øt m·ªì h√¥i l√† h√¨nh th·ª©c to·∫£ nhi·ªát quan tr·ªçng nh·∫•t ·ªü ng∆∞·ªùi.", "E. L∆∞·ª£ng m·ªì h√¥i bay h∆°i ph·ª• thu·ªôc v√†o nhi·ªát ƒë·ªô m√¥i tr∆∞·ªùng."],
    answer: ["D. B√†i ti·∫øt m·ªì h√¥i l√† h√¨nh th·ª©c to·∫£ nhi·ªát quan tr·ªçng nh·∫•t ·ªü ng∆∞·ªùi."]
  },
  {
    type: "single",
    question: "C√¢u 12: Bilan nhi·ªát l√† s·ª± c√¢n b·∫±ng gi·ªØa ---- v·ªõi -----",
    options: ["A. Nhi·ªát chuy·ªÉn h√≥a ; Nhi·ªát bay h∆°i n∆∞·ªõc, nhi·ªát b·ª©c x·∫°, nhi·ªát truy·ªÅn", "B. Nhi·ªát bay h∆°i n∆∞·ªõc; Nhi·ªát chuy·ªÉn h√≥a , nhi·ªát b·ª©c x·∫°, nhi·ªát truy·ªÅn", "C. Nhi·ªát b·ª©c x·∫°; Nhi·ªát bay h∆°i n∆∞·ªõc, nhi·ªát chuy·ªÉn h√≥a , nhi·ªát truy·ªÅn", "D. Nhi·ªát truy·ªÅn; Nhi·ªát bay h∆°i n∆∞·ªõc, nhi·ªát b·ª©c x·∫°, nhi·ªát chuy·ªÉn h√≥a"],
    answer: ["A. Nhi·ªát chuy·ªÉn h√≥a ; Nhi·ªát bay h∆°i n∆∞·ªõc, nhi·ªát b·ª©c x·∫°, nhi·ªát truy·ªÅn"]
  },
  {
    type: "single",
    question: "C√¢u 13: Khi c∆° th·ªÉ c·∫£m n√≥ng ho·∫∑c c·∫£m l·∫°nh th√¨:",
    options: ["A. Trung t√¢m ƒëi·ªÅu nhi·ªát v·∫´n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng.", "B. Trung t√¢m ƒëi·ªÅu nhi·ªát b·ªã r·ªëi lo·∫°n, trung t√¢m ch·ªëng n√≥ng b·ªã t√™ li·ªát.", "C. L∆∞·ª£ng m·ªì h√¥i b√†i ti·∫øt v·∫´n b√¨nh th∆∞·ªùng.", "D. Th√¢n nhi·ªát gi·∫£m."],
    answer: ["B. Trung t√¢m ƒëi·ªÅu nhi·ªát b·ªã r·ªëi lo·∫°n, trung t√¢m ch·ªëng n√≥ng b·ªã t√™ li·ªát."] // D·ª±a theo key b·∫°n cung c·∫•p ('b')
  },
  {
    type: "single",
    question: "C√¢u 14: Trung t√¢m ph·∫£n x·∫° ƒëi·ªÅu nhi·ªát:",
    options: ["A. Trung t√¢m ph·∫£n x·∫° ƒëi·ªÅu nhi·ªát n·∫±m ·ªü c·∫ßu n√£o.", "B. N·ª≠a tr∆∞·ªõc v√πng d∆∞·ªõi ƒë·ªìi l√† trung t√¢m ch·ªëng l·∫°nh, n·ª≠a sau l√† trung t√¢m ch·ªëng n√≥ng.", "C. N·ª≠a tr∆∞·ªõc v√πng d∆∞·ªõi ƒë·ªìi l√† trung t√¢m ch·ªëng n√≥ng, n·ª≠a sau l√† trung t√¢m ch·ªëng l·∫°nh.", "D. V√πng d∆∞·ªõi ƒë·ªìi ho·∫°t ƒë·ªông ƒëi·ªÅu nhi·ªát ƒë·ªôc l·∫≠p kh√¥ng ch·ªãu s·ª± ƒëi·ªÅu ho√† c·ªßa v·ªè n√£o.", "E. C√°c thu·ªëc gi·∫£m s·ªët (aspirin, antipyrin) g√¢y h·∫° nhi·ªát b·∫±ng c√°ch t√°c d·ª•ng gi√°n ti·∫øp l√™n trung t√¢m ƒëi·ªÅu nhi·ªát."],
    answer: ["C. N·ª≠a tr∆∞·ªõc v√πng d∆∞·ªõi ƒë·ªìi l√† trung t√¢m ch·ªëng n√≥ng, n·ª≠a sau l√† trung t√¢m ch·ªëng l·∫°nh."]
  },
  {
    type: "single",
    question: "C√¢u 15: Khi c∆° th·ªÉ c·∫£m n√≥ng ho·∫∑c c·∫£m l·∫°nh th√¨:",
    options: ["A. Trung t√¢m ƒëi·ªÅu nhi·ªát v·∫´n ho·∫°t ƒë·ªông b√¨nh th∆∞·ªùng.", "B. Trung t√¢m ƒëi·ªÅu nhi·ªát b·ªã r·ªëi lo·∫°n, trung t√¢m ch·ªëng n√≥ng b·ªã t√™ li·ªát.", "C. L∆∞·ª£ng m·ªì h√¥i b√†i ti·∫øt v·∫´n b√¨nh th∆∞·ªùng.", "D. Th√¢n nhi·ªát gi·∫£m.", "E. C√°c ph·∫£n x·∫° ch·ªëng n√≥ng v·∫´n b√¨nh th∆∞·ªùng."],
    answer: ["B. Trung t√¢m ƒëi·ªÅu nhi·ªát b·ªã r·ªëi lo·∫°n, trung t√¢m ch·ªëng n√≥ng b·ªã t√™ li·ªát."] // D·ª±a theo key b·∫°n cung c·∫•p ('b'), gi·ªëng c√¢u 13
  },
  {
    type: "single",
    question: "C√¢u 16: Trung t√¢m ƒëi·ªÅu nhi·ªát n·∫±m ·ªü‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶",
    options: ["A. V√πng n√£o th·∫•t III.", "B. H√†nh n√£o.", "C. C·∫ßu n√£o.", "D. V√πng d∆∞·ªõi ƒë·ªìi.", "E. V√πng ch·∫©m."],
    answer: ["D. V√πng d∆∞·ªõi ƒë·ªìi."]
  },
  {
    type: "single",
    question: "C√¢u 17: L∆∞·ª£ng m·ªì h√¥i ch·ªâ c√≥ t√°c d·ª•ng ch·ªëng n√≥ng khi ‚Ä¶‚Ä¶‚Ä¶. ngay ·ªü tr√™n da:",
    options: ["A. T·∫°o th√†nh gi·ªçt.", "B. Bay h∆°i.", "C. Tho√°t ra.", "D. T√°i h·∫•p thu."],
    answer: ["B. Bay h∆°i."]
  },
  {
    type: "single",
    question: "C√¢u 18: L∆∞·ª£ng m·ªì h√¥i bay h∆°i ph·ª• thu·ªôc v√†o ‚Ä¶‚Ä¶.. kh√¥ng kh√≠ v√† t·ªëc ƒë·ªô gi√≥:",
    options: ["A. Nhi·ªát ƒë·ªô.", "B. V·∫≠n t·ªëc.", "C. ƒê·ªô ·∫©m.", "D. √Åp su·∫•t."],
    answer: ["C. ƒê·ªô ·∫©m."]
  },
  {
    type: "single",
    question: "C√¢u 19: TƒÉng th·∫£i nhi·ªát kh√¥ng th√¥ng qua h√¨nh th·ª©c:",
    options: ["A. Gi·∫£m ho·∫°t ƒë·ªông", "B. To√°t m·ªì h√¥i", "C. C·ªüi b·ªõt qu·∫ßn √°o", "D. Co m·∫°ch ngo·∫°i vi"],
    answer: ["D. Co m·∫°ch ngo·∫°i vi"]
  },
  {
    type: "single",
    question: "C√¢u 20: C√°c ƒë√°p ·ª©ng nh·∫±m m·ª•c ƒë√≠ch gi·∫£m sinh nhi·ªát khi c∆° th·ªÉ b·ªã s·ªët kh√¥ng c√≥:",
    options: ["A. Gi·∫£m ho·∫°t ƒë·ªông cathecholamin", "B. TƒÉng th√¥ng kh√≠", "C. Gi√£n m·∫°ch da", "D. TƒÉng chuy·ªÉn h√≥a c∆° b·∫£n"],
    answer: ["D. TƒÉng chuy·ªÉn h√≥a c∆° b·∫£n"]
  },
  {
    type: "single",
    question: "C√¢u 21: Khi v·∫≠n c∆°‚Ä¶‚Ä¶‚Ä¶. ho√° nƒÉng t√≠ch lu·ªπ trong t·∫ø b√†o c∆° chuy·ªÉn th√†nh c√¥ng c∆° h·ªçc, ‚Ä¶‚Ä¶‚Ä¶‚Ä¶. b·ªã ti√™u hao d∆∞·ªõi d·∫°ng nhi·ªát:",
    options: ["A. 35%, 65%.", "B. 55%, 45%.", "C. 25%, 75%.", "D. 75%, 25%."],
    answer: ["C. 25%, 75%."]
  },
  {
    type: "single",
    question: "C√¢u 22: Th√¢n nhi·ªát l√† k·∫øt qu·∫£ c·ªßa s·ª± ƒëi·ªÅu ho√† hai qu√° tr√¨nh ƒë·ªëi l·∫≠p nhau trong c∆° th·ªÉ l√†:",
    options: ["A. Tho√°i ho√° v√† t·ªïng h·ª£p ch·∫•t.", "B. Sinh nhi·ªát v√† to·∫£ nhi·ªát.", "C. Truy·ªÅn nhi·ªát v√† h·∫•p th·ª• nhi·ªát.", "D. T·ªïng h·ª£p ATP v√† ph√¢n gi·∫£i ATP.", "E. T·ªïng h·ª£p glucose v√† tho√°i ho√° glucose."],
    answer: ["B. Sinh nhi·ªát v√† to·∫£ nhi·ªát."]
  },
  {
    type: "single",
    question: "C√¢u 23: Tr·∫ª em c√≥ kh·∫£ nƒÉng ƒëi·ªÅu nhi·ªát‚Ä¶‚Ä¶‚Ä¶..ng∆∞·ªùi l·ªõn:",
    options: ["A. T·ªët h∆°n.", "B. B·∫±ng.", "C. K√©m h∆°n.", "D. Kh√¥ng c√≥ kh·∫£ nƒÉng ƒëi·ªÅu nhi·ªát.", "E. T·∫•t c·∫£ ƒë·ªÅu sai."],
    answer: ["C. K√©m h∆°n."]
  },
  {
    type: "single",
    question: "C√¢u 24: ƒê·ªãnh nghƒ©a s·ªët:",
    options: ["A. L√† s·ª± tƒÉng th√¢n nhi·ªát do trung t√¢m ƒëi·ªÅu nhi·ªát g√¢y ra.", "B. L√† s·ª± tƒÉng th√¢n nhi·ªát do c√°c ƒë·ªôc ch·∫•t c·ªßa vi khu·∫©n t√°c ƒë·ªông l√™n n√£o g√¢y ra.", "C. L√† m·ªôt tr·∫°ng th√°i th√¢n nhi·ªát cao h∆°n m·ª©c b√¨nh th∆∞·ªùng do nhi·ªÅu nguy√™n nh√¢n g√¢y n√™n.", "D. L√† m·ªôt ph·∫£n ·ª©ng c·ªßa c∆° th·ªÉ.", "E. L√† m·ªôt tr·∫°ng th√°i b·ªánh l√Ω l√†m tƒÉng th√¢n nhi·ªát."],
    answer: ["C. L√† m·ªôt tr·∫°ng th√°i th√¢n nhi·ªát cao h∆°n m·ª©c b√¨nh th∆∞·ªùng do nhi·ªÅu nguy√™n nh√¢n g√¢y n√™n."]
  },
  {
    type: "single",
    question: "C√¢u 25: Khi ƒëi·ªÉm chu·∫©n nhi·ªát v√πng d∆∞·ªõi ƒë·ªìi cao h∆°n th√¢n nhi·ªát, ng∆∞·ªùi ta c·∫£m th·∫•y:",
    options: ["A. Th·ªü h·ªïn h·ªÉn", "B. Gi√£n m·∫°ch da", "C. R√πng m√¨nh", "D. V√£ m·ªì h√¥i"],
    answer: ["A. Th·ªü h·ªïn h·ªÉn"] // D·ª±a theo key b·∫°n cung c·∫•p ('a')
  },
  {
    type: "single",
    question: "C√¢u 26: Khi ƒëi·ªÉm chu·∫©n nhi·ªát v√πng d∆∞·ªõi ƒë·ªìi th·∫•p h∆°n th√¢n nhi·ªát, ng∆∞·ªùi ta c·∫£m th·∫•y:",
    options: ["A. Th·ªü h·ªïn h·ªÉn", "B. Gi√£n m·∫°ch da", "C. R√πng m√¨nh", "D. V√£ m·ªì h√¥i"],
    answer: ["C. R√πng m√¨nh"] // D·ª±a theo key b·∫°n cung c·∫•p ('c')
  }
  // ... (Add more question sets here if available) ...
];

  let currentQuestion = 0;

  function loadQuestion() {
    const q = questions[currentQuestion];
    let html = `<div class="question">${q.question}</div>`;

    if (q.type === "single" || q.type === "multiple") {
      const inputType = q.type === "multiple" ? "checkbox" : "radio";
      html += `<div class="options">` +
        q.options.map(opt => `
          <label class="option-card">
            <input type="${inputType}" name="option" value="${opt}">
            ${opt}
          </label>
        `).join('') +
        `</div>`;
    }

    if (q.type === "truefalse") {
      html += `<div class="statements">` +
        q.statements.map((s, idx) => `
          <div class="statement-block">
            <div class="statement-text">${s.text}</div>
            <label><input type="radio" name="statement${idx}" value="ƒê√∫ng"> ƒê√∫ng</label>
            <label><input type="radio" name="statement${idx}" value="Sai"> Sai</label>
          </div>
        `).join('') +
        `</div>`;
    }

    html += `
      <button class="submit-btn" onclick="submitAnswer()">Tr·∫£ l·ªùi</button>
      <div class="result" id="result"></div>
      <button class="next-btn hidden" id="nextBtn" onclick="nextQuestion()">C√¢u ti·∫øp theo ‚û°Ô∏è</button>
    `;

    document.getElementById("quiz").innerHTML = html;
  }

  function arraysEqual(arr1, arr2) {
    if (arr1.length !== arr2.length) return false;
    const a1 = [...arr1].sort();
    const a2 = [...arr2].sort();
    return a1.every((val, i) => val === a2[i]);
  }

  function submitAnswer() {
    const q = questions[currentQuestion];
    const result = document.getElementById("result");
    let isCorrect = false;

    if (q.type === "single" || q.type === "multiple") {
      const selected = Array.from(document.querySelectorAll("input[name='option']:checked"))
        .map(i => i.value);
      if (selected.length === 0) {
        result.innerHTML = "‚ùó B·∫°n ch∆∞a ch·ªçn ƒë√°p √°n.";
        result.style.color = "red";
        return;
      }
      isCorrect = (q.type === "single")
        ? selected[0] === q.answer[0]
        : arraysEqual(selected, q.answer);
    }

    if (q.type === "truefalse") {
      let allCorrect = true;
      for (let i = 0; i < q.statements.length; i++) {
        const chosen = document.querySelector(`input[name='statement${i}']:checked`);
        if (!chosen || chosen.value !== q.statements[i].answer) {
          allCorrect = false;
          break;
        }
      }
      isCorrect = allCorrect;
    }

    if (isCorrect) {
      result.innerHTML = "‚úÖ Ch√≠nh x√°c!";
      result.style.color = "green";
    } else {
      if (q.type === "truefalse") {
        result.innerHTML = `‚ùå Sai. ƒê√°p √°n ƒë√∫ng:<br>` +
          q.statements.map(s => `‚Ä¢ ${s.text} ‚Üí ${s.answer}`).join("<br>");
      } else {
        result.innerHTML = `‚ùå Sai. ƒê√°p √°n ƒë√∫ng l√†: ${q.answer.join(", ")}`;
      }
      result.style.color = "red";
    }

    document.getElementById("nextBtn").classList.remove("hidden");
  }

  function nextQuestion() {
    currentQuestion++;
    if (currentQuestion < questions.length) {
      loadQuestion();
    } else {
      document.getElementById("quiz").innerHTML = "<div class='result'>üéâ B·∫°n ƒë√£ ho√†n th√†nh b√†i tr·∫Øc nghi·ªám!</div>";
    }
  }

  loadQuestion();
</script>

</body>
</html>
